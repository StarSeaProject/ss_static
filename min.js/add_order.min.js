let IdList=[-1,-1,-1],ClassId=0;$(function(){function a(a){let c,d=0,e="",f=[];switch(a){case 0:for(let a in provinces)f.push({Id:provinces[a].provinceId,Name:provinces[a].provinceName});break;case 1:for(let a in c=provinces[IdList[0]].citys,c)f.push({Id:c[a].cityId,Name:c[a].cityName});break;case 2:for(let a in c=provinces[IdList[0]].citys[IdList[1]].areas,console.log(c),c)f.push({Id:c[a].areaId,Name:c[a].areaName});}for(let c in f){let g=`
					<div class="col-xs-3" >
						<a class="addressbutton addressnormal" data-class="${a}" name="${f[c].Id}">
								${f[c].Name}
						</a>
					</div>
					`;e+=b(g,d),d+=1}0==d%4&&(e+=`</div>`),$(".addressmap [data-id="+a+"]").html(e)}function b(a,b){let c="";return 0==b%4&&(c+=`<div class="row">`),c+=a,3==b%4&&(c+=`</div>`),c}$("#expensebar").hide();class c extends Object{constructor(a){super(),this.tag=a}}class d extends c{NavBtClass(){this.tag.toggleClass("navnormal"),this.tag.toggleClass("navvisited")}HandelClick(){if($(".addressmap [data-id="+ClassId+"]").hide(),ClassId=+this.tag.attr("name"),console.log(ClassId),$(".addressmap [data-id="+ClassId+"]").show(),void 0!==i){let a=new d(i);a.NavBtClass(),a=null}i=this.tag,this.NavBtClass()}}class e extends c{AddBtClass(){this.tag.toggleClass("addressnormal"),this.tag.toggleClass("addressvisited")}HandlePre(){if(-1!==IdList[ClassId]){let a=new e($("[data-class="+ClassId+"][name="+IdList[ClassId]+"]"));a.AddBtClass(),a=null}IdList[ClassId]=$(this.tag).attr("name")}HandlePost(){let a=new e($("[data-class="+ClassId+"][name="+IdList[ClassId]+"]"));a.AddBtClass(),a=null;let b="";for(let a=0;a<ClassId+1;++a)b+=$("[data-class="+a+"][name="+IdList[a]+"]").text();$("#addressbutton").text(b)}}class f extends e{constructor(a,b){super(a),this.pobt=b}HandleClick(){this.HandlePre(),$("#city").hide(),$("#area").hide(),a(1),$("#area").html(""),$("#areasub").val(""),this.HandlePost();let b={provinceId:IdList[0]};$.get("/order/postage/money",b,function(a){console.log(a),$("#expense").text("\u9884\u8BA1\u90AE\u8D39 \u81F3"+$("[data-class=0][name="+IdList[0]+"]").text()+"\uFF1ARMB"+a.postageMoney),$("#expensebar").show()}),31<IdList[0]?this.pobt.SetHide():this.pobt.SetShow(),$(".navbutton[name=1]").trigger("click")}}class g extends e{HandleClick(){this.HandlePre(),a(2),$("#areasub").val(""),this.HandlePost(),$(".navbutton[name=2]").trigger("click")}}class h extends e{HandleClick(){this.HandlePre(),$("#areasub").val(IdList[ClassId]),this.HandlePost(),$(document).trigger("click")}}console.log(provinces[33]);let i;a(0),$(".addressmap").hide();let j=new class extends c{constructor(a,b,c,d){super(a),this.value=!1,this.isShow=!0,this.text=b,this.row=c,this.input=d,this.input.val(!1)}PayOnlineBtClass(){this.tag.toggleClass("PayOnlineUv"),this.tag.toggleClass("PayOnlineVd")}SetTrue(){this.value||(this.PayOnlineBtClass(),this.text.text("\u5DF2\u9009\u62E9\u5728\u7EBF\u652F\u4ED8"),this.input.val(!0),this.value=!0)}SetFalse(){this.value&&(this.PayOnlineBtClass(),this.input.val(!1),this.text.text("\u9009\u4E2D\u8BE5\u9009\u9879\u65F6\u5C06\u4F7F\u7528\u5728\u7EBF\u652F\u4ED8\u7684\u65B9\u5F0F\u652F\u4ED8\u90AE\u8D39"),this.value=!1)}SetShow(){this.isShow||(this.row.show(),this.isShow=!0)}SetHide(){this.isShow&&(this.row.hide(),this.SetFalse(),this.isShow=!1)}HandleClick(){this.value?this.SetFalse():this.SetTrue()}}($("#PayOnlineBt"),$("#PayOnlineText"),$("#isPayOnlineRow"),$("#isPayOnline"));$(".navbutton").on("click",function(){let a=new d($(this));a.HandelClick(),a=null}),$("#PayOnlineBt").on("click",function(){j.HandleClick()}),$(".addressmap").on("click",".addressbutton",function(a){let b;0===ClassId?b=new f($(a.target),j):1===ClassId?b=new g($(a.target)):2===ClassId?b=new h($(a.target)):void 0;b.HandleClick(),b=null}),$("#addressbutton").on("click",function(a){$(".addressmap").show(),a.stopPropagation(),$(document).on("click",function(){return $(".addressmap").hide(),0}),$("#provincenav").trigger("click")}),$(".addressmap").on("click",function(a){a.stopPropagation()}),$("#addOrderBtn").on("click",function(){if(name=$("#ordname").val(),0===name.length)return alert("\u6536\u8D27\u4EBA\u4E3A\u7A7A"),!1;if(10<=name.length)return alert("\u6536\u8D27\u59D3\u540D\u8FC7\u957F"),!1;if(phone=$("#ordphone").val(),11!==phone.length)return alert("\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"),!1;if(areanum=$("#areasub").val(),""===areanum||void 0===areanum)return alert("\u6536\u8D27\u5730\u5740\u4E0D\u5408\u6CD5\uFF01"),!1;if(adddetail=$("#ordadddel").val(),0===adddetail.length)return alert("\u6536\u8D27\u8BE6\u7EC6\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),!1;if(50<=adddetail.length)return alert("\u6536\u8D27\u5730\u5740\u8FC7\u957F\uFF01"),!1;if(email=$("#ordemail").val(),0===email.length)return alert("\u7535\u5B50\u90AE\u7BB1\u4E3A\u7A7A"),!1;var a=/\w+[@]{1}\w+[.]\w+/;if(!a.test(email))return alert("Email\u683C\u5F0F\u4E0D\u5BF9"),!1;let b=$("#orderRemark").val();return 50<b.length?(alert("\u5907\u6CE8\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC750"),!1):void $("#addOrderForm").submit()})});
